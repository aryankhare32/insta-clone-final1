{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/SignIn.js","components/screens/Profile.js","components/screens/SignUp.js","components/screens/Createpost.js","reducers/userReducer.js","components/screens/UserProfile.js","components/screens/SubscribesUserPost.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","useContext","UserContext","state","dispatch","history","useHistory","className","to","id","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","getItem","then","res","json","result","console","log","posts","map","item","style","padding","postedBy","_id","name","float","postid","method","newData","filter","catch","err","src","photo","alt","color","likes","includes","body","JSON","stringify","postId","length","title","comments","record","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","SignIn","password","setPassword","email","setEmail","onChange","test","error","M","toast","html","classes","setItem","token","user","payload","Profile","mypics","setPics","image","setImage","mypost","FormData","append","pic","url","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","followers","following","file","files","SignUp","setName","undefined","setUrl","uploadFields","message","PostData","uploadPic","class","Createpost","setTitle","setBody","textAlign","PostDetails","reducer","action","userProfile","setProfile","userid","useParams","showfollow","setShowFollow","followId","prevState","unfollowId","newFollower","createContext","Routing","parse","exact","path","UserProfile","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2NA+CeA,EA1CA,WACb,MAAwBC,qBAAWC,GAA7BC,EAAN,EAAMA,MAAMC,EAAZ,EAAYA,SACNC,EAAUC,cA4Bd,OACI,8BACJ,sBAAKC,UAAU,oBAAf,UACE,cAAC,IAAD,CAAMC,GAAIL,EAAO,IAAK,UAAWI,UAAU,kBAA3C,uBACA,oBAAIE,GAAG,aAAaF,UAAU,SAA9B,SA9BCJ,EACM,CACL,6BAAI,cAAC,IAAD,CAAMK,GAAG,WAAT,uBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,UAAT,2BACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,mBAAT,kCACJ,6BACE,wBAAQD,UAAU,2BAChBG,QAAS,WACPC,aAAaC,QACbR,EAAS,CAACS,KAAM,UAChBR,EAAQS,KAAK,YAJjB,uBAaE,CACJ,6BAAI,cAAC,IAAD,CAAMN,GAAG,UAAT,sBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,UAAT,+BCqJGO,G,MA9KH,WAEZ,MAAuBC,mBAAS,IAAhC,mBAAOC,EAAP,KAAYC,EAAZ,KACA,EAAwBjB,qBAAWC,GAA7BC,EAAN,EAAMA,MAAN,EAAYC,SACZe,qBAAU,WACNC,MAAM,WAAW,CACbC,QAAQ,CACJ,cAAiB,UAAUV,aAAaW,QAAQ,UAErDC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZR,EAAQQ,EAAOG,YAEpB,IAoGC,OACG,qBAAKtB,UAAU,OAAf,SAEKU,EAAKa,KAAI,SAAAC,GACL,OACI,sBAAKxB,UAAU,kBAAf,UACI,qBAAIyB,MAAO,CAACC,QAAQ,OAApB,UAA4B,cAAC,IAAD,CAAMzB,GAAIuB,EAAKG,SAASC,MAAQhC,EAAMgC,IAAM,YAAYJ,EAAKG,SAASC,IAAM,YAA5E,SAA0FJ,EAAKG,SAASE,OAAaL,EAAKG,SAASC,MAAOhC,EAAMgC,KAE5K,mBAAG5B,UAAU,iBAAiByB,MAAO,CACjCK,MAAM,SAEV3B,QAAS,kBA9BX4B,EA8B0BP,EAAKI,SA7B7Cf,MAAM,eAAD,OAAgBkB,GAAS,CAC1BC,OAAO,SACPlB,QAAQ,CACJ,cAAgB,UAAUV,aAAaW,QAAQ,UAEpDC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZ,IAAMc,EAAUvB,EAAKwB,QAAO,SAAAV,GACxB,OAAOA,EAAKI,MAAQT,EAAOS,OAE/BjB,EAAQsB,MAETE,OAAM,SAAAC,GACLhB,QAAQC,IAAIe,MAfH,IAACL,GA2BE,uBAOA,qBAAK/B,UAAU,aAAf,SACI,qBAAKqC,IAAKb,EAAKc,MAAOC,IAAI,OAE9B,sBAAKvC,UAAU,eAAf,UACA,mBAAGA,UAAU,iBAAiByB,MAAO,CAACe,MAAM,OAA5C,sBACChB,EAAKiB,MAAMC,SAAS9C,EAAMgC,KAE3B,mBAAG5B,UAAU,iBACbG,QAAS,WA/FV,IAACD,IA+FyBsB,EAAKI,IA9F9Cf,MAAM,UAAU,CACZmB,OAAO,MACPlB,QAAQ,CACJ,eAAe,mBACf,cAAiB,UAAUV,aAAaW,QAAQ,QAEpD4B,KAAKC,KAAKC,UAAU,CAChBC,OAAO5C,MAEZc,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEF,IAAMc,EAAUvB,EAAKa,KAAI,SAAAC,GACrB,OAAGA,EAAKI,KAAOT,EAAOS,IACXT,EAEAK,KAGfb,EAAQsB,MACTE,OAAM,SAAAC,GACLhB,QAAQC,IAAIe,OAwEA,wBAIA,mBAAGpC,UAAU,iBACbG,QAAS,WA7HZ,IAACD,IA6HyBsB,EAAKI,IA5H5Cf,MAAM,QAAQ,CACVmB,OAAO,MACPlB,QAAQ,CACJ,eAAe,mBACf,cAAiB,UAAUV,aAAaW,QAAQ,QAEpD4B,KAAKC,KAAKC,UAAU,CAChBC,OAAO5C,MAEZc,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEF,IAAMc,EAAUvB,EAAKa,KAAI,SAAAC,GACrB,OAAGA,EAAKI,KAAOT,EAAOS,IACXT,EAEAK,KAGfb,EAAQsB,MACTE,OAAM,SAAAC,GACLhB,QAAQC,IAAIe,OAsGA,sBAMA,+BAAKZ,EAAKiB,MAAMM,OAAhB,YACA,6BAAKvB,EAAKwB,QACV,4BAAIxB,EAAKmB,OAELnB,EAAKyB,SAAS1B,KAAI,SAAA2B,GACd,OACI,+BAAqB,sBAAMzB,MAAO,CAAC0B,WAAW,OAAzB,SAAkCD,EAAOvB,SAASE,OAAvE,IAAqFqB,EAAOE,OAAnFF,EAAOtB,QAI5B,sBAAMyB,SAAU,SAACC,GAxFlB,IAACF,EAAKN,EAyFDQ,EAAEC,iBAzFNH,EA0FgBE,EAAEE,OAAO,GAAGC,MA1FvBX,EA0F6BtB,EAAKI,IAzFvDf,MAAM,WAAW,CACbmB,OAAO,MACPlB,QAAQ,CACJ,eAAiB,mBACjB,cAAgB,UAAWV,aAAaW,QAAQ,QAEpD4B,KAAKC,KAAKC,UAAU,CAChBC,SACAM,WAELpC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZ,IAAMc,EAAUvB,EAAKa,KAAI,SAAAC,GACrB,OAAGA,EAAKI,KAAOT,EAAOS,IACXT,EAEAK,KAGfb,EAAQsB,MACTE,OAAM,SAAAC,GACLhB,QAAQC,IAAIe,OAiEA,SAIA,uBAAO9B,KAAK,OAAOoD,YAAY,yBAzCGlC,EAAKI,Y,iBCzDhD+B,EA7DD,WACV,MAAuBjE,qBAAWC,GAAtBE,GAAZ,EAAMD,MAAN,EAAYC,UACNC,EAAUC,cAChB,EAA+BU,mBAAS,IAAxC,mBAAOmD,EAAP,KAAgBC,EAAhB,KACA,EAAyBpD,mBAAS,IAAlC,mBAAOqD,EAAP,KAAaC,EAAb,KAkCA,OACI,qBAAK/D,UAAW,SAAhB,SACI,sBAAKA,UAAU,iBAAf,UACA,2CACA,uBAAOM,KAAK,OAAOoD,YAAY,QAC1BD,MAAOK,EACRE,SAAU,SAACV,GAAD,OAAKS,EAAST,EAAEE,OAAOC,UAErC,uBAAOnD,KAAK,WAAWoD,YAAY,WAC9BD,MAAOG,EACRI,SAAU,SAACV,GAAD,OAAKO,EAAYP,EAAEE,OAAOC,UAExC,wBAAQzD,UAAU,+BAClBG,QAAS,WA7CT,yJAAyJ8D,KAAKH,GAKlKjD,MAAM,UAAU,CACZmB,OAAO,OACPlB,QAAQ,CACJ,eAAe,oBAEnB6B,KAAKC,KAAKC,UAAU,CAChBe,WACAE,YAEL9C,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GACFU,QAAQC,IAAIX,GACTA,EAAKwD,MACJC,IAAEC,MAAM,CAACC,KAAM3D,EAAKwD,MAAMI,QAAQ,iBAElClE,aAAamE,QAAQ,MAAM7D,EAAK8D,OAChCpE,aAAamE,QAAQ,OAAO3B,KAAKC,UAAUnC,EAAK+D,OAChD5E,EAAS,CAACS,KAAK,OAAQoE,QAAQhE,EAAK+D,OACpCN,IAAEC,MAAM,CAACC,KAAK,yBAAyBC,QAAQ,kBAC/CxE,EAAQS,KAAK,SAGpB4B,OAAM,SAAAC,GACHhB,QAAQC,IAAIe,MA1BZ+B,IAAEC,MAAM,CAACC,KAAM,gBAAgBC,QAAQ,iBA0CvC,mBAIA,6BACI,cAAC,IAAD,CAAMrE,GAAG,UAAT,4C,OCuED0E,EAhIA,WACX,MAAwBlE,mBAAS,IAAjC,mBAAMmE,EAAN,KAAaC,EAAb,KACA,EAAuBnF,qBAAWC,GAA5BC,EAAN,EAAMA,MAAMC,EAAZ,EAAYA,SACZ,EAAyBY,mBAAS,IAAlC,mBAAOqE,EAAP,KAAaC,EAAb,KAEAnE,qBAAU,WACNC,MAAM,UAAU,CACZC,QAAQ,CACJ,cAAkB,UAAUV,aAAaW,QAAQ,UAEtDC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACF0D,EAAQ1D,EAAO6D,aAErB,IAEFpE,qBAAU,WACN,GAAGkE,EAAM,CACL,IAAMpE,EAAO,IAAIuE,SACrBvE,EAAKwE,OAAO,OAAOJ,GACnBpE,EAAKwE,OAAO,gBAAgB,qBAC5BxE,EAAKwE,OAAO,aAAa,gBACzBrE,MAAM,4DAA4D,CAC9DmB,OAAO,OACPW,KAAKjC,IAERM,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAN,GAIFG,MAAM,aAAa,CACfmB,OAAO,MACPlB,QAAQ,CACJ,eAAe,mBACf,cAAgB,UAAUV,aAAaW,QAAQ,QAEnD4B,KAAKC,KAAKC,UAAU,CAChBsC,IAAIzE,EAAK0E,QAEdpE,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZf,aAAamE,QAAQ,OAAO3B,KAAKC,UAAL,2BAAmBjD,GAAnB,IAAyBuF,IAAIhE,EAAOiE,QAChEvF,EAAS,CAACS,KAAK,YAAYoE,QAAQvD,EAAOgE,YAqBjDhD,OAAM,SAAAC,GACHhB,QAAQC,IAAIe,SAGlB,CAAC0C,IAOH,OACI,sBAAKrD,MAAO,CAAC4D,SAAS,QAAQC,OAAO,YAArC,UACA,sBAAK7D,MAAO,CACJ6D,OAAO,WACPC,aAAa,kBAFrB,UAII,sBAAK9D,MAAO,CACR+D,QAAQ,OACRC,eAAe,gBAFnB,UAII,8BACI,qBAAKhE,MAAO,CAACiE,MAAM,QAASC,OAAO,QAASC,aAAa,QACzDvD,IAAKzC,EAAQA,EAAMuF,IAAM,iBACzB5C,IAAI,OAGR,gCACI,6BAAK3C,EAAMA,EAAMiC,KAAO,kBACxB,6BAAKjC,EAAMA,EAAMkE,MAAQ,kBACzB,sBAAKrC,MAAO,CAAC+D,QAAQ,OAAOC,eAAe,eAAgBC,MAAM,QAAjE,UAEI,+BAAKd,EAAO7B,OAAZ,YACA,+BAAKnD,EAAMA,EAAMiG,UAAU9C,OAAO,IAAlC,gBACA,+BAAKnD,EAAMA,EAAMkG,UAAU/C,OAAO,IAAlC,yBAMhB,sBAAK/C,UAAU,yBAAyByB,MAAO,CAAC6D,OAAO,QAAvD,UACQ,sBAAKtF,UAAU,MAAf,UACI,8CACA,uBAAOM,KAAK,OAAO0D,SAAU,SAACV,GAAD,OArCzByC,EAqC0CzC,EAAEE,OAAOwC,MAAM,QApCzEjB,EAASgB,GADM,IAACA,QAuCR,qBAAK/F,UAAU,oBAAf,SACI,uBAAOA,UAAU,qBAAqBM,KAAK,iBAIvD,qBAAKN,UAAU,UAAf,SAEI4E,EAAOrD,KAAI,SAAAC,GACP,OACI,qBAAoBxB,UAAU,OAAOqC,IAAKb,EAAKc,MAAOC,IAAKf,EAAKwB,OAAtDxB,EAAKI,cCZpBqE,EA3GD,WAEV,IAAMnG,EAAUC,cAChB,EAAuBU,mBAAS,IAAhC,mBAAOoB,EAAP,KAAYqE,EAAZ,KACA,EAA+BzF,mBAAS,IAAxC,mBAAOmD,EAAP,KAAgBC,EAAhB,KACA,EAAyBpD,mBAAS,IAAlC,mBAAOqD,EAAP,KAAaC,EAAb,KACA,EAAyBtD,mBAAS,IAAlC,mBAAOqE,EAAP,KAAaC,EAAb,KACA,EAAqBtE,wBAAS0F,GAA9B,mBAAOf,EAAP,KAAWgB,EAAX,KACAxF,qBAAU,WACHwE,GACCiB,MAEN,CAACjB,IAGH,IAiBMiB,EAAa,WACX,yJAAyJpC,KAAKH,GAKlKjD,MAAM,UAAU,CACZmB,OAAO,OACPlB,QAAQ,CACJ,eAAe,oBAEnB6B,KAAKC,KAAKC,UAAU,CAChBhB,OACA+B,WACAE,QACAqB,IAAIC,MAETpE,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GACCA,EAAKwD,MACJC,IAAEC,MAAM,CAACC,KAAM3D,EAAKwD,MAAMI,QAAQ,iBAElCH,IAAEC,MAAM,CAACC,KAAK3D,EAAK4F,QAAQhC,QAAQ,kBACnCxE,EAAQS,KAAK,eAGpB4B,OAAM,SAAAC,GACHhB,QAAQC,IAAIe,MAxBZ+B,IAAEC,MAAM,CAACC,KAAM,gBAAgBC,QAAQ,iBA2BzCiC,EAAW,WACVzB,EAhDU,WACb,IAAMpE,EAAO,IAAIuE,SACjBvE,EAAKwE,OAAO,OAAOJ,GACnBpE,EAAKwE,OAAO,gBAAgB,qBAC5BxE,EAAKwE,OAAO,aAAa,gBACzBrE,MAAM,4DAA4D,CAC9DmB,OAAO,OACPW,KAAKjC,IAERM,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAN,GACF0F,EAAO1F,EAAK0E,QAEfjD,OAAM,SAAAC,GACHhB,QAAQC,IAAIe,MAmCZoE,GAEAH,KAKR,OACI,qBAAKrG,UAAW,SAAhB,SACI,sBAAKA,UAAU,iBAAf,UACA,2CACA,uBAAOM,KAAK,OAAOoD,YAAY,OAC3BD,MAAO5B,EACPmC,SAAU,SAACV,GAAD,OAAK4C,EAAQ5C,EAAEE,OAAOC,UAEpC,uBAAOnD,KAAK,OAAOoD,YAAY,QAC1BD,MAAOK,EACRE,SAAU,SAACV,GAAD,OAAKS,EAAST,EAAEE,OAAOC,UAErC,uBAAOnD,KAAK,WAAWoD,YAAY,WAC9BD,MAAOG,EACRI,SAAU,SAACV,GAAD,OAAKO,EAAYP,EAAEE,OAAOC,UAExC,sBAAKgD,MAAM,yBAAX,UACI,sBAAKA,MAAM,MAAX,UACI,sDACA,uBAAOnG,KAAK,OAAO0D,SAAU,SAACV,GAAD,OAAKyB,EAASzB,EAAEE,OAAOwC,MAAM,UAE9D,qBAAKS,MAAM,oBAAX,SACI,uBAAOA,MAAM,qBAAqBnG,KAAK,cAG/C,wBAAQN,UAAU,+BAClBG,QAAS,kBAAIoG,KADb,oBAIA,6BACI,cAAC,IAAD,CAAMtG,GAAG,UAAT,8CCVDyG,EA5FG,WAEd,IAAM5G,EAAUC,cAChB,EAAyBU,mBAAS,IAAlC,mBAAOuC,EAAP,KAAa2D,EAAb,KACA,EAAuBlG,mBAAS,IAAhC,mBAAOkC,EAAP,KAAYiE,EAAZ,KACA,EAAyBnG,mBAAS,IAAlC,mBAAOqE,EAAP,KAAaC,EAAb,KACA,EAAqBtE,mBAAS,IAA9B,mBAAO2E,EAAP,KAAWgB,EAAX,KACAxF,qBAAU,WACHwE,GAGHvE,MAAM,cAAc,CAChBmB,OAAO,OACPlB,QAAQ,CACJ,eAAe,mBACf,cAAgB,UAAUV,aAAaW,QAAQ,QAEnD4B,KAAKC,KAAKC,UAAU,CAChBG,QACAL,OACAwC,IAAIC,MAETpE,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GACCA,EAAKwD,MACJC,IAAEC,MAAM,CAACC,KAAM3D,EAAKwD,MAAMI,QAAQ,iBAElCH,IAAEC,MAAM,CAACC,KAAK,4BAA4BC,QAAQ,kBAClDxE,EAAQS,KAAK,SAGpB4B,OAAM,SAAAC,GACHhB,QAAQC,IAAIe,QAIlB,CAACgD,IAsBH,OACI,sBAAKpF,UAAU,oBACfyB,MAAO,CACH6D,OAAO,YACPD,SAAS,QACT3D,QAAQ,OACRmF,UAAU,UALd,UAOK,uBAAOvG,KAAK,OAAOoD,YAAY,QAC/BD,MAAOT,EACPgB,SAAU,SAACV,GAAD,OAAKqD,EAASrD,EAAEE,OAAOC,UAEjC,uBAAOnD,KAAK,OAAOoD,YAAY,OAC/BD,MAAOd,EACPqB,SAAU,SAACV,GAAD,OAAKsD,EAAQtD,EAAEE,OAAOC,UAEhC,sBAAKgD,MAAM,yBAAX,UACG,sBAAKA,MAAM,MAAX,UACI,gDACA,uBAAOnG,KAAK,OAAO0D,SAAU,SAACV,GAAD,OAAKyB,EAASzB,EAAEE,OAAOwC,MAAM,UAE9D,qBAAKS,MAAM,oBAAX,SACI,uBAAOA,MAAM,qBAAqBnG,KAAK,cAG3C,wBAAQN,UAAU,+BAClBG,QAAS,kBA7CD,WAChB,IAAMO,EAAO,IAAIuE,SACjBvE,EAAKwE,OAAO,OAAOJ,GACnBpE,EAAKwE,OAAO,gBAAgB,qBAC5BxE,EAAKwE,OAAO,aAAa,gBACzBrE,MAAM,4DAA4D,CAC9DmB,OAAO,OACPW,KAAKjC,IAERM,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAN,GACF0F,EAAO1F,EAAK0E,QAEfjD,OAAM,SAAAC,GACHhB,QAAQC,IAAIe,MA+BK0E,IADb,6BCrFHC,EAAU,SAACnH,EAAMoH,GAC1B,MAAkB,QAAfA,EAAO1G,KACC0G,EAAOtC,QAEA,SAAfsC,EAAO1G,KACC,KAGK,UAAb0G,EAAO1G,KACN,2BACOV,GADP,IAEIiG,UAAUmB,EAAOtC,QAAQmB,UACzBC,UAAUkB,EAAOtC,QAAQoB,YAGf,aAAfkB,EAAO1G,KACN,2BACOV,GADP,IAEIuF,IAAI6B,EAAOtC,UAGZ9E,G,QC4HI+E,EA7IA,WACX,MAAgClE,mBAAS,MAAzC,mBAAMwG,EAAN,KAAkBC,EAAlB,KACA,EAAuBxH,qBAAWC,GAA5BC,EAAN,EAAMA,MAAMC,EAAZ,EAAYA,SACLsH,EAAUC,cAAVD,OAEP,EAAiC1G,oBAASb,IAAQA,EAAMkG,UAAUpD,SAASyE,IAA3E,mBAAME,EAAN,KAAiBC,EAAjB,KAEA1G,qBAAU,WACNC,MAAM,SAAD,OAAUsG,GAAS,CACpBrG,QAAQ,CACJ,cAAkB,UAAUV,aAAaW,QAAQ,UAEtDC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEFC,QAAQC,IAAIF,GACZ+F,EAAW/F,QAEjB,IA6DF,OACI,mCACC8F,EAEG,sBAAKxF,MAAO,CAAC4D,SAAS,QAAQC,OAAO,YAArC,UACA,sBAAK7D,MAAO,CACR+D,QAAQ,OACRC,eAAe,eACfH,OAAO,WACPC,aAAa,kBAJjB,UAMI,8BACI,qBAAK9D,MAAO,CAACiE,MAAM,QAASC,OAAO,QAASC,aAAa,QACzDvD,IAAK4E,EAAYxC,KAAKU,IACtB5C,IAAI,OAER,gCACI,6BAAK0E,EAAYxC,KAAK5C,OACtB,6BAAKoF,EAAYxC,KAAKX,QACtB,sBAAKrC,MAAO,CAAC+D,QAAQ,OAAOC,eAAe,eAAgBC,MAAM,QAAjE,UAEI,+BAAKuB,EAAY3F,MAAMyB,OAAvB,YACA,+BAAKkE,EAAYxC,KAAKoB,UAAU9C,OAAhC,gBACA,+BAAKkE,EAAYxC,KAAKqB,UAAU/C,OAAhC,mBAGAsE,EACA,wBAAQ5F,MAAO,CAAC6D,OAAO,QAAStF,UAAU,+BAC1CG,QAAS,WAtFzBU,MAAM,UAAU,CACZmB,OAAO,MACPlB,QAAQ,CACJ,eAAgB,mBAChB,cAAiB,UAAUV,aAAaW,QAAQ,QAEpD4B,KAAKC,KAAKC,UAAU,CAChB0E,SAASJ,MAEdnG,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GAEFb,EAAS,CAACS,KAAK,SAASoE,QAAQ,CAACoB,UAAUpF,EAAKoF,UAAUD,UAAUnF,EAAKmF,aACzEzF,aAAamE,QAAQ,OAAO3B,KAAKC,UAAUnC,IAC3CwG,GAAW,SAACM,GACR,kCACOA,GADP,IAEI/C,KAAK,2BACE+C,EAAU/C,MADb,IAEAoB,UAAU,GAAD,mBAAK2B,EAAU/C,KAAKoB,WAApB,CAA8BnF,EAAKkB,aAIxD0F,GAAc,OA8DF,oBAKA,wBAAQ7F,MAAO,CAAC6D,OAAO,QAAStF,UAAU,+BAC1CG,QAAS,WA/DzBU,MAAM,YAAY,CACdmB,OAAO,MACPlB,QAAQ,CACJ,eAAgB,mBAChB,cAAiB,UAAUV,aAAaW,QAAQ,QAEpD4B,KAAKC,KAAKC,UAAU,CAChB4E,WAAWN,MAEhBnG,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GAEFb,EAAS,CAACS,KAAK,SAASoE,QAAQ,CAACoB,UAAUpF,EAAKoF,UAAUD,UAAUnF,EAAKmF,aACzEzF,aAAamE,QAAQ,OAAO3B,KAAKC,UAAUnC,IAE3CwG,GAAW,SAACM,GACR,IAAME,EAAYF,EAAU/C,KAAKoB,UAAU3D,QAAO,SAAAV,GAAI,OAAGA,IAASd,EAAKkB,OACvE,kCACO4F,GADP,IAEI/C,KAAK,2BACE+C,EAAU/C,MADb,IAEAoB,UAAU6B,SAItBJ,GAAc,OAqCF,4BAWhB,qBAAKtH,UAAU,UAAf,SAEIiH,EAAY3F,MAAMC,KAAI,SAAAC,GAClB,OACI,qBAAoBxB,UAAU,OAAOqC,IAAKb,EAAKc,MAAOC,IAAKf,EAAKwB,OAAtDxB,EAAKI,aAUzB,oDCsCKpB,EA9KH,WAEZ,MAAuBC,mBAAS,IAAhC,mBAAOC,EAAP,KAAYC,EAAZ,KACA,EAAwBjB,qBAAWC,GAA7BC,EAAN,EAAMA,MAAN,EAAYC,SACZe,qBAAU,WACNC,MAAM,cAAc,CAChBC,QAAQ,CACJ,cAAiB,UAAUV,aAAaW,QAAQ,UAErDC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZR,EAAQQ,EAAOG,YAEpB,IAoGC,OACG,qBAAKtB,UAAU,OAAf,SAEKU,EAAKa,KAAI,SAAAC,GACL,OACI,sBAAKxB,UAAU,kBAAf,UACI,qBAAIyB,MAAO,CAACC,QAAQ,OAApB,UAA4B,cAAC,IAAD,CAAMzB,GAAIuB,EAAKG,SAASC,MAAQhC,EAAMgC,IAAM,YAAYJ,EAAKG,SAASC,IAAM,YAA5E,SAA0FJ,EAAKG,SAASE,OAAaL,EAAKG,SAASC,MAAOhC,EAAMgC,KAE5K,mBAAG5B,UAAU,iBAAiByB,MAAO,CACjCK,MAAM,SAEV3B,QAAS,kBA9BX4B,EA8B0BP,EAAKI,SA7B7Cf,MAAM,eAAD,OAAgBkB,GAAS,CAC1BC,OAAO,SACPlB,QAAQ,CACJ,cAAgB,UAAUV,aAAaW,QAAQ,UAEpDC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZ,IAAMc,EAAUvB,EAAKwB,QAAO,SAAAV,GACxB,OAAOA,EAAKI,MAAQT,EAAOS,OAE/BjB,EAAQsB,MAETE,OAAM,SAAAC,GACLhB,QAAQC,IAAIe,MAfH,IAACL,GA2BE,uBAOA,qBAAK/B,UAAU,aAAf,SACI,qBAAKqC,IAAKb,EAAKc,MAAOC,IAAI,OAE9B,sBAAKvC,UAAU,eAAf,UACA,mBAAGA,UAAU,iBAAiByB,MAAO,CAACe,MAAM,OAA5C,sBACChB,EAAKiB,MAAMC,SAAS9C,EAAMgC,KAE3B,mBAAG5B,UAAU,iBACbG,QAAS,WA/FV,IAACD,IA+FyBsB,EAAKI,IA9F9Cf,MAAM,UAAU,CACZmB,OAAO,MACPlB,QAAQ,CACJ,eAAe,mBACf,cAAiB,UAAUV,aAAaW,QAAQ,QAEpD4B,KAAKC,KAAKC,UAAU,CAChBC,OAAO5C,MAEZc,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEF,IAAMc,EAAUvB,EAAKa,KAAI,SAAAC,GACrB,OAAGA,EAAKI,KAAOT,EAAOS,IACXT,EAEAK,KAGfb,EAAQsB,MACTE,OAAM,SAAAC,GACLhB,QAAQC,IAAIe,OAwEA,wBAIA,mBAAGpC,UAAU,iBACbG,QAAS,WA7HZ,IAACD,IA6HyBsB,EAAKI,IA5H5Cf,MAAM,QAAQ,CACVmB,OAAO,MACPlB,QAAQ,CACJ,eAAe,mBACf,cAAiB,UAAUV,aAAaW,QAAQ,QAEpD4B,KAAKC,KAAKC,UAAU,CAChBC,OAAO5C,MAEZc,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEF,IAAMc,EAAUvB,EAAKa,KAAI,SAAAC,GACrB,OAAGA,EAAKI,KAAOT,EAAOS,IACXT,EAEAK,KAGfb,EAAQsB,MACTE,OAAM,SAAAC,GACLhB,QAAQC,IAAIe,OAsGA,sBAMA,+BAAKZ,EAAKiB,MAAMM,OAAhB,YACA,6BAAKvB,EAAKwB,QACV,4BAAIxB,EAAKmB,OAELnB,EAAKyB,SAAS1B,KAAI,SAAA2B,GACd,OACI,+BAAqB,sBAAMzB,MAAO,CAAC0B,WAAW,OAAzB,SAAkCD,EAAOvB,SAASE,OAAvE,IAAqFqB,EAAOE,OAAnFF,EAAOtB,QAI5B,sBAAMyB,SAAU,SAACC,GAxFlB,IAACF,EAAKN,EAyFDQ,EAAEC,iBAzFNH,EA0FgBE,EAAEE,OAAO,GAAGC,MA1FvBX,EA0F6BtB,EAAKI,IAzFvDf,MAAM,WAAW,CACbmB,OAAO,MACPlB,QAAQ,CACJ,eAAiB,mBACjB,cAAgB,UAAWV,aAAaW,QAAQ,QAEpD4B,KAAKC,KAAKC,UAAU,CAChBC,SACAM,WAELpC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZ,IAAMc,EAAUvB,EAAKa,KAAI,SAAAC,GACrB,OAAGA,EAAKI,KAAOT,EAAOS,IACXT,EAEAK,KAGfb,EAAQsB,MACTE,OAAM,SAAAC,GACLhB,QAAQC,IAAIe,OAiEA,SAIA,uBAAO9B,KAAK,OAAOoD,YAAY,yBAzCGlC,EAAKI,WC9GlDjC,EAAagI,0BAEpBC,EAAU,WAEd,IAAM9H,EAAUC,cAChB,EAAyBL,qBAAWC,GAAvBE,GAAb,EAAOD,MAAP,EAAaC,UAWb,OAVFe,qBAAU,WACR,IAAM6D,EAAO7B,KAAKiF,MAAMzH,aAAaW,QAAQ,SAC1C0D,EACD5E,EAAS,CAACS,KAAK,OAAOoE,QAAQD,IAG9B3E,EAAQS,KAAK,aAEf,IAGE,eAAC,IAAD,WACI,cAAC,IAAD,CAAOuH,OAAK,EAACC,KAAK,IAAlB,SACA,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,mBAAZ,SACE,cAACC,EAAD,MAEF,cAAC,IAAD,CAAOD,KAAK,mBAAZ,SACE,cAAC,EAAD,UAuBOE,MAff,WAEE,MAAsBC,qBAAWnB,EH7DR,MG6DzB,mBAAMnH,EAAN,KAAYC,EAAZ,KAEA,OACE,cAACF,EAAYwI,SAAb,CAAsB1E,MAAO,CAAC7D,QAAMC,YAApC,SACA,eAAC,IAAD,WACE,cAAC,EAAD,IACA,cAAC,EAAD,UCvDSuI,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBtH,MAAK,YAAkD,IAA/CuH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.7636c346.chunk.js","sourcesContent":["import React,{useContext} from \"react\"\nimport {Link,useHistory} from \"react-router-dom\"\nimport { UserContext } from \"../App\"\n\n\nconst Navbar = () =>{\n  const{state,dispatch} = useContext(UserContext)\n  const history = useHistory()\n  const renderList= ()=>{\n    if(state){\n      return [\n        <li><Link to=\"/profile\">Profile</Link></li>,\n        <li><Link to=\"/create\">Create Post</Link></li>,\n        <li><Link to=\"/myfollowingpost\">My Following Posts</Link></li>,\n        <li>\n          <button className=\"btn #ff8a80 red accent-1\"\n            onClick={()=>{\n              localStorage.clear()\n              dispatch({type: \"CLEAR\"})\n              history.push(\"/signin\")\n            }\n            }>\n                LogOut\n            </button>\n        </li>\n\n      ]\n    }else {\n      return[\n        <li><Link to=\"/signin\">SingIn</Link></li>,\n        <li><Link to=\"/signup\">SignUp</Link></li>\n        \n      ]\n    }\n  }\n    return(\n        <nav>\n    <div className=\"nav-wrapper white\">\n      <Link to={state? \"/\" :\"/signin\"} className=\"brand-logo left\">Instagram</Link>\n      <ul id=\"nav-mobile\" className=\"right \">\n        {renderList()}\n\n      </ul>\n    </div>\n  </nav>\n    )\n}\nexport default Navbar","import React,{useState,useEffect,useContext} from \"react\";\nimport { Link} from \"react-router-dom\";\nimport {UserContext} from \"../../App\"\n\n\nconst Home= ()=>{\n    \nconst [data,setData] = useState([])\nconst{state,dispatch} = useContext(UserContext)\nuseEffect(() => {\n    fetch(\"/allpost\",{\n        headers:{\n            \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n        }\n    }).then(res => res.json())\n    .then(result => {\n        console.log(result)\n        setData(result.posts)\n    })\n}, [])\n\n    const likePost = (id) =>{\n        fetch(\"/like\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            // console.log(result);\n            const newData = data.map(item => {\n                if(item._id == result._id){\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err =>{\n            console.log(err)\n        })\n    }\n\n    const unlikePost = (id) =>{\n        fetch(\"/unlike\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            // console.log(result);\n            const newData = data.map(item => {\n                if(item._id == result._id){\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err =>{\n            console.log(err)\n        })\n    }\n\n    const makeComment =(text,postId)=>{\n        fetch(\"/comment\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\" : \"application/json\",\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId,\n                text\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result);\n            const newData = data.map(item => {\n                if(item._id == result._id){\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    } \n\n    const deletePost=(postid)=>{\n        fetch(`/deletepost/${postid}`,{\n            method:\"delete\",\n            headers:{\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.filter(item=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n            // history.push('/')\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n\n    return (\n       <div className=\"home\">\n        {\n            data.map(item =>{\n                return(\n                    <div className=\" card home-card\" key={item._id}>\n                        <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id ? \"/profile/\"+item.postedBy._id : \"/profile/\"}>{item.postedBy.name}</Link>{item.postedBy._id=== state._id\n                        &&\n                        <i className=\"material-icons\" style={{\n                            float:\"right\"\n                        }}\n                        onClick={()=>deletePost(item._id)}\n                        >delete</i>\n                        }</h5>\n                        \n                        <div className=\"card-image\">\n                            <img src={item.photo} alt=\"\" />\n                        </div>\n                        <div className=\"card-content\">\n                        <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\n                        {item.likes.includes(state._id)\n                        ?\n                        <i className=\"material-icons\"\n                        onClick={()=>{unlikePost(item._id)}}\n                        >thumb_down</i>\n                        :\n                        <i className=\"material-icons\"\n                        onClick={()=>{likePost(item._id)}}\n                        >thumb_up</i>\n                        }\n                        \n                        \n                        <h6>{item.likes.length} likes</h6>\n                        <h6>{item.title}</h6>\n                        <p>{item.body}</p>\n                        {\n                            item.comments.map(record=>{\n                                return(\n                                    <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\n                                )\n                            })\n                        }\n                        <form onSubmit={(e)=>{\n                            e.preventDefault()\n                            makeComment(e.target[0].value,item._id)\n                        }}>\n                        <input type=\"text\" placeholder=\"Add a comment\" />\n                        </form>\n                        </div>\n                    </div>\n                )\n            })\n        }\n        \n\n       </div>\n\n       \n    )\n}\nexport default Home","import React,{useState,useContext} from \"react\";\nimport { Link ,useHistory} from \"react-router-dom\";\nimport {UserContext} from \"../../App\"\nimport M from \"materialize-css\";\n\n\nconst SignIn= ()=>{\n    const{state,dispatch}= useContext(UserContext)\n    const history = useHistory()\n    const [password,setPassword] = useState(\"\")\n    const [email,setEmail] = useState(\"\")\n    const PostData = ()=>{\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\n        {\n            M.toast({html: \"invalid email\",classes:\"#f44336 red\"})\n            return;\n        }\n        fetch(\"/signin\",{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\"\n            },\n            body:JSON.stringify({\n                password,\n                email\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n            console.log(data)\n            if(data.error){\n                M.toast({html: data.error,classes:\"#f44336 red\"})\n            } else{\n                localStorage.setItem(\"jwt\",data.token)\n                localStorage.setItem(\"user\",JSON.stringify(data.user))\n                dispatch({type:\"USER\", payload:data.user})\n                M.toast({html:\"Signed In Successfully\",classes:\"#4caf50 green\"})\n                history.push(\"/\")\n            }\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    \n    }\n    return (\n        <div className= \"mycard\">\n            <div className=\"card auth-card\">\n            <h2>Instagram</h2>\n            <input type=\"text\" placeholder=\"Email\" \n                 value={email}\n                onChange={(e)=>setEmail(e.target.value)}\n            />\n            <input type=\"password\" placeholder=\"Password\" \n                 value={password}\n                onChange={(e)=>setPassword(e.target.value)}\n            />\n            <button className=\"btn waves-effect waves-light\"\n            onClick={()=>PostData()}>\n                Login\n            </button>\n            <h5>\n                <Link to=\"/signup\">Don't have an account?</Link>\n            </h5>\n            </div>\n        </div>\n    )\n}\nexport default SignIn\n","\nimport React,{useEffect,useState,useContext} from \"react\";\nimport { UserContext } from \"../../App\";\n\nconst Profile= ()=>{\n    const[mypics,setPics] = useState([])\n    const{state,dispatch}= useContext(UserContext)\n    const [image,setImage] = useState(\"\")\n   \n    useEffect(()=>{\n        fetch(\"/mypost\",{\n            headers:{\n                \"Authorization\" : \"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result => {\n            setPics(result.mypost)\n        })\n    },[])\n\n    useEffect(()=>{\n        if(image){\n            const data = new FormData()\n        data.append(\"file\",image)\n        data.append(\"upload_preset\",\"Aryan-insta-clone\")\n        data.append(\"cloud_name\",\"instaclone-1\")\n        fetch(\"https://api.cloudinary.com/v1_1/instaclone-1/image/upload\",{\n            method:\"post\",\n            body:data\n        })\n        .then(res=>res.json())\n        .then(data =>{\n            \n            // localStorage.setItem(\"user\",JSON.stringify({...state,pic:data.url}))\n            // dispatch({type:\"UPDATEPIC\",payload:data.url})\n            fetch('/updatepic',{\n                method:\"put\",\n                headers:{\n                    \"Content-Type\":\"application/json\",\n                    \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n                },\n                body:JSON.stringify({\n                    pic:data.url\n                })\n            }).then(res=>res.json())\n            .then(result=>{\n                console.log(result)\n                localStorage.setItem(\"user\",JSON.stringify({...state,pic:result.url}))\n                dispatch({type:\"UPDATEPIC\",payload:result.pic})\n                // window.location.reload()\n            })\n            // fetch(\"/updatepic\",{\n            //     method:\"put\",\n            //     headers:{\n            //         \"Content-Type\":\"applicaton/json\",\n            //         \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            //     },\n            //     body:JSON.stringify({\n            //         pic:data.url\n            //     })\n            // }).then(res=>res.json())\n            // .then(result=>{\n            //     console.log(result)\n            //     // localStorage.setItem(\"user\",JSON.stringify({...state,pic:result.pic}))\n            //     // dispatch({type:\"UPDATEPIC\",payload:result.pic})\n                \n            // })\n            \n        })\n        .catch(err=>{\n            console.log(err);\n        })\n        }\n    },[image])\n\n    const updatePhoto= (file)=>{\n        setImage(file)\n        \n    }\n\n    return (\n        <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\n        <div style={{\n                margin:\"18px 0px\",\n                borderBottom:\"1px solid grey\"\n            }}>\n            <div style={{\n                display:\"flex\",\n                justifyContent:\"space-around\"\n            }}>\n                <div>\n                    <img style={{width:\"160px\", height:\"160px\", borderRadius:\"80px\"}} \n                    src={state ? state.pic : \"Loading.......\"}\n                    alt=\"\" />\n                   \n                </div>\n                <div>\n                    <h4>{state?state.name : \"Loading.....!\"}</h4>\n                    <h5>{state?state.email : \"Loading.....!\"}</h5>\n                    <div style={{display:\"flex\",justifyContent:\"space-around\", width:\"108%\"\n                    }}>\n                        <h6>{mypics.length} posts</h6>\n                        <h6>{state?state.followers.length:\"0\"} followers</h6>\n                        <h6>{state?state.following.length:\"0\"} following</h6>\n                    </div>\n                </div>\n                \n            </div>\n            \n        <div className=\"file-field input-field\" style={{margin:\"10px\"}}>\n                <div className=\"btn\">\n                    <span>Change Pic</span>\n                    <input type=\"file\" onChange={(e)=>updatePhoto(e.target.files[0])}/>\n                </div>\n                <div className=\"file-path-wrapper\">\n                    <input className=\"file-path validate\" type=\"text\" />\n                </div>\n                </div>\n        </div>\n        <div className=\"gallery\">\n        {\n            mypics.map(item=>{\n                return(\n                    <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>\n                )\n            })\n        }\n            \n        </div>\n        </div>\n    )\n}\nexport default Profile","import React,{useState,useEffect} from \"react\";\nimport {Link,useHistory} from \"react-router-dom\";\nimport M from \"materialize-css\";\n\nconst SignUp= ()=>{\n\n    const history = useHistory()\n    const [name,setName] = useState(\"\")\n    const [password,setPassword] = useState(\"\")\n    const [email,setEmail] = useState(\"\")\n    const [image,setImage] = useState(\"\")\n    const [url,setUrl] = useState(undefined)\n    useEffect(()=>{\n        if(url){\n            uploadFields()\n        }\n    },[url])\n\n\n    const uploadPic =()=>{\n        const data = new FormData()\n        data.append(\"file\",image)\n        data.append(\"upload_preset\",\"Aryan-insta-clone\")\n        data.append(\"cloud_name\",\"instaclone-1\")\n        fetch(\"https://api.cloudinary.com/v1_1/instaclone-1/image/upload\",{\n            method:\"post\",\n            body:data\n        })\n        .then(res=>res.json())\n        .then(data =>{\n            setUrl(data.url)\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n    const uploadFields=()=>{\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\n        {\n            M.toast({html: \"invalid email\",classes:\"#f44336 red\"})\n            return;\n        }\n        fetch(\"/signup\",{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\"\n            },\n            body:JSON.stringify({\n                name,\n                password,\n                email,\n                pic:url\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n            if(data.error){\n                M.toast({html: data.error,classes:\"#f44336 red\"})\n            } else{\n                M.toast({html:data.message,classes:\"#4caf50 green\"})\n                history.push(\"/signin\")\n            }\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n    const PostData = ()=>{\n        if(image){\n            uploadPic()\n        } else{\n            uploadFields()\n        }\n    \n    }\n\n    return (\n        <div className= \"mycard\">\n            <div className=\"card auth-card\">\n            <h2>Instagram</h2>\n            <input type=\"text\" placeholder=\"Name\" \n                value={name}\n                onChange={(e)=>setName(e.target.value)}\n            />\n            <input type=\"text\" placeholder=\"Email\" \n                 value={email}\n                onChange={(e)=>setEmail(e.target.value)}\n            />\n            <input type=\"password\" placeholder=\"Password\" \n                 value={password}\n                onChange={(e)=>setPassword(e.target.value)}\n            />\n            <div class=\"file-field input-field\">\n                <div class=\"btn\">\n                    <span>Upload Profile Pic</span>\n                    <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])}/>\n                </div>\n                <div class=\"file-path-wrapper\">\n                    <input class=\"file-path validate\" type=\"text\" />\n                </div>\n                </div>\n            <button className=\"btn waves-effect waves-light\"\n            onClick={()=>PostData()}>\n                SignUp\n            </button>\n            <h5>\n                <Link to=\"/signin\">Already have an account?</Link>\n            </h5>\n            </div>\n        </div>\n    )\n}\nexport default SignUp\n","import React,{useState,useEffect} from \"react\"\nimport M from \"materialize-css\"\nimport { useHistory } from \"react-router-dom\"\nconst Createpost= ()=>{\n\n    const history = useHistory()\n    const [title,setTitle] = useState(\"\")\n    const [body,setBody] = useState(\"\")\n    const [image,setImage] = useState(\"\")\n    const [url,setUrl] = useState(\"\")\n    useEffect(()=>{\n        if(url){\n\n        \n        fetch(\"/createpost\",{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                title,\n                body,\n                pic:url\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n            if(data.error){\n                M.toast({html: data.error,classes:\"#f44336 red\"})\n            } else{\n                M.toast({html:\"Created Post Successfully\",classes:\"#4caf50 green\"})\n                history.push(\"/\")\n            }\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    },[url])\n\n\n    const PostDetails = ()=>{\n        const data = new FormData()\n        data.append(\"file\",image)\n        data.append(\"upload_preset\",\"Aryan-insta-clone\")\n        data.append(\"cloud_name\",\"instaclone-1\")\n        fetch(\"https://api.cloudinary.com/v1_1/instaclone-1/image/upload\",{\n            method:\"post\",\n            body:data\n        })\n        .then(res=>res.json())\n        .then(data =>{\n            setUrl(data.url)\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n        \n    }\n\n    return(\n        <div className=\"card input filled\" \n        style={{\n            margin:\"30px auto\",\n            maxWidth:\"500px\",\n            padding:\"20px\",\n            textAlign:\"center\"\n        }}>\n             <input type=\"text\" placeholder=\"title\" \n             value={title}\n             onChange={(e)=>setTitle(e.target.value)}\n             />\n             <input type=\"text\" placeholder=\"body\" \n             value={body}\n             onChange={(e)=>setBody(e.target.value)}\n             />\n             <div class=\"file-field input-field\">\n                <div class=\"btn\">\n                    <span>Upload Image</span>\n                    <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])}/>\n                </div>\n                <div class=\"file-path-wrapper\">\n                    <input class=\"file-path validate\" type=\"text\" />\n                </div>\n                </div>\n                <button className=\"btn waves-effect waves-light\"\n                onClick={()=>PostDetails()}\n                >\n                Submit Post\n            </button>\n\n        </div>\n    )\n}\nexport default Createpost;","export const initialState= null\nexport const reducer = (state,action)=>{\n    if(action.type == \"USER\"){\n        return action.payload\n    }\n    if(action.type == \"CLEAR\"){\n        return null;\n    }\n\n    if(action.type==\"UPDATE\"){\n        return{\n            ...state,\n            followers:action.payload.followers,\n            following:action.payload.following\n        }\n    }\n    if(action.type == \"UPDATEPIC\"){\n        return{\n            ...state,\n            pic:action.payload\n        }\n    }\n    return state\n}","import React,{useEffect,useState,useContext} from \"react\";\nimport { UserContext } from \"../../App\";\nimport { useParams } from \"react-router-dom\";\n\n\nconst Profile= ()=>{\n    const[userProfile,setProfile] = useState(null)\n    const{state,dispatch}= useContext(UserContext)\n    const {userid} = useParams()\n\n    const[showfollow,setShowFollow]= useState(state? !state.following.includes(userid):true)\n    \n    useEffect(()=>{\n        fetch(`/user/${userid}`,{\n            headers:{\n                \"Authorization\" : \"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result => {\n            // setPics(result.mypost)\n            console.log(result)\n            setProfile(result)\n        })\n    },[])\n\n    const followUser=()=>{\n        fetch(\"/follow\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                followId:userid\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n            \n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\n            localStorage.setItem(\"user\",JSON.stringify(data))\n            setProfile((prevState)=>{\n                return{\n                    ...prevState,\n                    user:{\n                        ...prevState.user,\n                        followers:[...prevState.user.followers,data._id]\n                    }\n                }\n            })\n            setShowFollow(false)\n        })\n    }\n\n    const unfollowUser=()=>{\n        fetch(\"/unfollow\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                unfollowId:userid\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n            \n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\n            localStorage.setItem(\"user\",JSON.stringify(data))\n            \n            setProfile((prevState)=>{\n                const newFollower=prevState.user.followers.filter(item=> item !== data._id)\n                return{\n                    ...prevState,\n                    user:{\n                        ...prevState.user,\n                        followers:newFollower\n                    }\n                }\n            })\n            setShowFollow(true)\n            \n        })\n    }\n\n    return (\n        <>\n        {userProfile ? \n        \n            <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\n            <div style={{\n                display:\"flex\",\n                justifyContent:\"space-around\",\n                margin:\"18px 0px\",\n                borderBottom:\"1px solid grey\"\n            }}>\n                <div>\n                    <img style={{width:\"160px\", height:\"160px\", borderRadius:\"80px\"}} \n                    src={userProfile.user.pic}\n                    alt=\"\" />\n                </div>\n                <div>\n                    <h4>{userProfile.user.name}</h4>\n                    <h5>{userProfile.user.email}</h5>\n                    <div style={{display:\"flex\",justifyContent:\"space-around\", width:\"108%\"\n                    }}>\n                        <h6>{userProfile.posts.length} posts</h6>\n                        <h6>{userProfile.user.followers.length} followers</h6>\n                        <h6>{userProfile.user.following.length} following</h6>\n                    </div>\n                    {\n                        showfollow ?\n                        <button style={{margin:\"10px\"}} className=\"btn waves-effect waves-light\"\n                        onClick={()=>followUser()}>\n                            Follow\n                        </button>\n                        :\n                        <button style={{margin:\"10px\"}} className=\"btn waves-effect waves-light\"\n                        onClick={()=>unfollowUser()}>\n                            UnFollow\n                        </button>\n\n                    }\n                    \n            \n                </div>\n                \n            </div>\n        <div className=\"gallery\">\n        {\n            userProfile.posts.map(item=>{\n                return(\n                    <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>\n                )\n            })\n        }\n            \n        </div>\n        </div>\n        \n        \n        \n        : <h2>Loading.......!</h2>}\n        \n        </>\n    )\n}\nexport default Profile","import React,{useState,useEffect,useContext} from \"react\";\nimport { Link} from \"react-router-dom\";\nimport {UserContext} from \"../../App\"\n\n\nconst Home= ()=>{\n    \nconst [data,setData] = useState([])\nconst{state,dispatch} = useContext(UserContext)\nuseEffect(() => {\n    fetch(\"/getsubpost\",{\n        headers:{\n            \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n        }\n    }).then(res => res.json())\n    .then(result => {\n        console.log(result)\n        setData(result.posts)\n    })\n}, [])\n\n    const likePost = (id) =>{\n        fetch(\"/like\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            // console.log(result);\n            const newData = data.map(item => {\n                if(item._id == result._id){\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err =>{\n            console.log(err)\n        })\n    }\n\n    const unlikePost = (id) =>{\n        fetch(\"/unlike\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            // console.log(result);\n            const newData = data.map(item => {\n                if(item._id == result._id){\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err =>{\n            console.log(err)\n        })\n    }\n\n    const makeComment =(text,postId)=>{\n        fetch(\"/comment\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\" : \"application/json\",\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId,\n                text\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result);\n            const newData = data.map(item => {\n                if(item._id == result._id){\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    } \n\n    const deletePost=(postid)=>{\n        fetch(`/deletepost/${postid}`,{\n            method:\"delete\",\n            headers:{\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.filter(item=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n            // history.push('/')\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n\n    return (\n       <div className=\"home\">\n        {\n            data.map(item =>{\n                return(\n                    <div className=\" card home-card\" key={item._id}>\n                        <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id ? \"/profile/\"+item.postedBy._id : \"/profile/\"}>{item.postedBy.name}</Link>{item.postedBy._id=== state._id\n                        &&\n                        <i className=\"material-icons\" style={{\n                            float:\"right\"\n                        }}\n                        onClick={()=>deletePost(item._id)}\n                        >delete</i>\n                        }</h5>\n                        \n                        <div className=\"card-image\">\n                            <img src={item.photo} alt=\"\" />\n                        </div>\n                        <div className=\"card-content\">\n                        <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\n                        {item.likes.includes(state._id)\n                        ?\n                        <i className=\"material-icons\"\n                        onClick={()=>{unlikePost(item._id)}}\n                        >thumb_down</i>\n                        :\n                        <i className=\"material-icons\"\n                        onClick={()=>{likePost(item._id)}}\n                        >thumb_up</i>\n                        }\n                        \n                        \n                        <h6>{item.likes.length} likes</h6>\n                        <h6>{item.title}</h6>\n                        <p>{item.body}</p>\n                        {\n                            item.comments.map(record=>{\n                                return(\n                                    <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\n                                )\n                            })\n                        }\n                        <form onSubmit={(e)=>{\n                            e.preventDefault()\n                            makeComment(e.target[0].value,item._id)\n                        }}>\n                        <input type=\"text\" placeholder=\"Add a comment\" />\n                        </form>\n                        </div>\n                    </div>\n                )\n            })\n        }\n        \n\n       </div>\n\n       \n    )\n}\nexport default Home","import React,{useEffect,createContext,useReducer,useContext} from \"react\"\nimport Navbar from \"./components/Navbar\";\nimport \"./App.css\"\nimport {BrowserRouter,Route,Switch,useHistory} from \"react-router-dom\"\nimport Home from \"./components/screens/Home\";\nimport Signin from \"./components/screens/SignIn\";\nimport Profile from \"./components/screens/Profile\";\nimport Signup from \"./components/screens/SignUp\";\nimport Createpost from \"./components/screens/Createpost\";\nimport {reducer,initialState} from \"./reducers/userReducer\"\nimport UserProfile from \"./components/screens/UserProfile\"\nimport SubscribedUserPosts from \"./components/screens/SubscribesUserPost\"\n\n\nexport const UserContext= createContext()\n\nconst Routing = ()=>{\n\n  const history = useHistory()\n  const {state,dispatch} = useContext(UserContext)\nuseEffect(()=>{\n  const user = JSON.parse(localStorage.getItem(\"user\"))\n  if(user){\n    dispatch({type:\"USER\",payload:user})\n    \n  } else {\n    history.push(\"/signin\")\n  }\n},[])\n\n  return(\n    <Switch>\n        <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <Route path=\"/signin\"> \n        <Signin />\n      </Route>\n      <Route path=\"/signup\"> \n        <Signup />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/create\">\n        <Createpost />\n      </Route>\n      <Route path=\"/profile/:userid\">\n        <UserProfile />\n      </Route>\n      <Route path=\"/myfollowingpost\">\n        <SubscribedUserPosts />\n      </Route>\n      </Switch>\n\n  )\n}\n\n\nfunction App() {\n\n  const[state,dispatch]=useReducer(reducer,initialState)\n\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n      <Navbar />\n      <Routing />\n\n</BrowserRouter>\n</UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}